# WARNING - Generated by {fusen} from /dev/flat_composants/flat_radioButtons.Rmd: do not edit by hand

test_that("radioButtons_dsfr works", {
  test_html <- radioButtons_dsfr(
    inputId = "test",
    label = "Test",
    choices = c("A", "B"),
    class = NULL
  )
  #' @description tester si shiny.tag
  expect_s3_class(test_html, "shiny.tag")

  expect_error(
    radioButtons_dsfr(
      inputId = "test",
      label = "Test error selected with more than one element",
      choices = c("A", "B"),
      selected = c("A", "B"),
      class = NULL
    ),
    regexp = "selected"
  )

  # test selected
  test_html_selected <- radioButtons_dsfr(
    inputId = "test-selected",
    label = "Selected",
    choices = c("A", "B"),
    selected = "A",
    class = NULL
  )

  snapshot_html_selected <- readRDS(
    file = file.path(
      "snapshot", # pour passer les tests en production (apres le inflate),
      # "tests/testthat/snapshot", # pour passer les tests en developpement (avant le inflate),
      "radioButtons_dsfr_selected.Rda"
    )
  )
  #' @description Verifie le parametre selected dans le HTML
  expect_equal(
    gsub("\\s|\\n", "", test_html_selected),
    gsub("\\s|\\n", "", snapshot_html_selected)
  )


  # Si erreur au prÃ©cedent test deux cas possible :
  #
  # - nouveau composant: Lancer le saveRDS, relancer le test et recommenter le saveRDS
  #
  # - composant a mettre a jour: si le test ne passe plus avant de changer le snapshot,
  #                              assurez vous d'avoir bien pris en compte la nouvelle personnalisation
  #                              dans la fonction radioButtons_dsfr_template puis lancer le saveRDS, relancer le test et recommenter le saveRDS

  # saveRDS(test_html_selected,
  #         file = file.path("tests/testthat/snapshot",
  #                          "radioButtons_dsfr_selected.Rda"
  #                          )
  #         )
  #
})
