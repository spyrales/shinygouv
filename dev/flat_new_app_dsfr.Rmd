---
title: "flat_new_app_dsfr.Rmd empty"
output: html_document
editor_options: 
  chunk_output_type: console
---

## Les étapes pour commencer une nouvelle application shiny dsfr

#### Créer une application golem minimale

{golem} est un package R destiné à la création d'applications Shiny.

```{r, eval = FALSE}
# install.packages("remotes")
install.packages("golem")
```

+  New project > New directory > Package for Shiny App using {golem} 

Pour plus d'information, veuillez consulter la documentation de [golem](https://thinkr-open.github.io/golem/articles/a_start.html)

#### Convertir cette application pour qu'elle suive le Système de Design de l'État.

L'application minimale {golem} ne possède qu'un `fluidPage`.

Une fonction a été développée pour convertir votre application, soit tous les scripts R du dossier `R`, en précisant la version du dsfr que vous souhaitez utiliser.
Depuis votre projet, lancer: 

```{r, eval = FALSE}
convert_to_dsfr(version = "1.7.2")
```

Pour plus d'information, veuillez consulter la documentation de cette fonction `convert_to_dsfr()`


#### Le cas d'une application hors golem

Dans le cas d'une nouvelle application créée sans le package {golem}, il sera nécessaire de préciser le dossier comprenant les scripts `.R` de l'application.
Par exemple: 

```{r, eval = FALSE}
convert_to_dsfr(path = "lechemindemonapplication", version = "1.7.2")
```

La dépendance au package {shinygouv} ne sera quant à elle pas prise en compte par la fonction `convert_to_dsfr()` et devra être effectuée manuellement dans les scripts en y ajoutant l'une des 2 possibilités suivantes (en fonction du mode développement utilisé):
- `library(shinygouv)`
- `@import shinygouv`

#### Utiliser d'autres composants dsfr

Pour toute utilisation de composants dsfr, il est nécessaire de se référer à la documentation afin d'en connaitre les paramètres possibles.

La liste des composants déjà implémentés est disponible dans le package, selon la version du dsfr souhaitée:

- Par exemple pour la version "1.7.2" (`v1.7.2/table_correspondance_shiny_dsfr.csv`)

```{r, echo = FALSE, message = FALSE}
DT::datatable(
  tab_corresp <- system.file("v1.7.2/table_correspondance_shiny_dsfr.csv", package = "shinygouv") %>%
    readr::read_csv2() %>% 
    dplyr::select(composant_dsfr)
)
```


#### Les régles d'usage du DSFR

Toutes les règles d'usage de la charte graphique du Système de Design de l'État sont disponibles [https://www.systeme-de-design.gouv.fr/comment-utiliser-le-dsfr](https://www.systeme-de-design.gouv.fr/comment-utiliser-le-dsfr)

```{r development-inflate, eval=FALSE}
# Run but keep eval=FALSE to avoid infinite loop
# Execute in the console directly
fusen::inflate(flat_file = "dev/flat_new_app_dsfr.Rmd", vignette_name = "Comment demarrer une nouvelle application shiny dsfr")
```

